<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>PythonWave</title>
  <link rel="stylesheet" href="style.css">
    <script async src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?skin=sunburst'/></script>
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <!-- <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->
</head>
<body>
  <header>
    <h1>PythonWave</h1>
    <nav class="crumbs">
      <ul>
        <li class="crumb"></li>
      </ul>
    </nav>
  </header>
  <div id="content">
  <main>
    <article>
      <section>
        <h2>全体像</h2>
        <p class="tooltip">このページを一通り読んだら，
          <span class="tooltiptext"
            data-tooltip="*.wavのそれ。詳細は後述。">waveファイル
          </span>から1秒毎の
          <span class="tooltiptext"
            data-tooltip="騒音レベルを評価する指標のひとつ。詳細は後述。">\(L_{eq}\)
          </span>をCSV形式で出力できるようになる。
        </p>
        <p>おまけで，波形をグラフとして表示できるようになる。</p>
      </section>
      <section>
        <h2 id="forword">まえがき</h2>
        <details>
          <summary>&lt- クリックして展開</summary>
          <p>誤解を恐れずに言うなら，プログラミングするということは，</p>
          <br>
          <table>
            <tr>
              <td>( Input )</td>
              <td>: なにか<b>入力</b>して，
              </td>
            </tr>
            <tr>
              <td>( Function )</td>
              <td>: それを<b>処理</b>して，
              </td>
            </tr>
            <tr>
              <td>( Output )</td>
              <td>: それを<b>出力</b>する。
              </td>
            </tr>
          </table>
          <br>
          <p>これしかない。なにも難しいことはない。</p>
          <br>
          <p>初学者が一番最初に習うプログラムとしてHello Worldがある。</p>
          <pre class="prettyprint linenums lang=python">print('Hello World!!')</pre>
          <table>
            <tr>
              <td>( In )</td>
              <td>: 自分が打ち込んだ文字列が，</td>
            </tr>
            <tr>
              <td>( Fn )</td>
              <td>: print関数を介して，</td>
            </tr>
            <tr>
              <td>( Out )</td>
              <td>: コンソールに出力される。</td>
            </tr>
          </table>
          <p>これだけで立派なプログラムだ。</p>
          <br>
          <p>次に，計算させてみる。</p>
          <pre class="prettyprint linenums lang=python">print(1 + 2)</pre>
          <p>当然3が出力される。</p>
          <br>
          <p>でも，これだと現実の物事はなにも解決してくれない。データはなにも変わらない。</p>
          <p>テキストファイルや音声，動画ファイルがあって，</p>
          <p>人間がやっていた作業を代わりに命令して自動化できる。</p>
          <p>これが，本来プログラミングする目的であって，モチベーションにつながる。</p>
          <!-- TODO 授業じゃやらない -->
        </details>
      </section>
      <section>
        <h2 id="preparation">準備</h2>
        <p>なにはともあれ，まずは<b>環境構築</b>。</p>
        <h3><a href="https://www.python.org/">Python</a></h3>
        <ul>
          <li>ダウンロードページに進んで，"Windows x86-64 executable installer"をダウンロードする。</li>
          <li>環境変数を通すようにチェックして，ダイアログにしたがってインストールする。</li>
        </ul>
        <details>
          <summary>column どうしてPython？</summary>
          <p>大方のコンピュータはC言語で動いている。それが基準だから。やっぱり，はじめては偉い。</p>
          <p>もっというと，Cの前にアセンブリ言語があって，プロセッサが処理するために機械語になる。</p>
          <p>でもそんなの気にしなくていい。裏で勝手にやってくれる。</p>
          <p>Python(Cython)はC言語の代わりに書いたコードをC言語に変換してくれる。</p>
          <p>あとは同じ。</p>
          <p>じゃあなんでPythonを使うのか。</p>
          <p>書きやくなるように工夫されていて，</p>
          <p>使用者が多いから情報が集めやすい。</p>
          <p>それだけ。</p>
        </details>
        <h3><a href="https://code.visualstudio.com/">Visual Studio Code</a></h3>
        <ul>
          <li>作業フォルダを作る。</li>
          <li>Pythonのパスを通す。</li>
          <li>拡張機能のインストール。</li>
        </ul>
        <p>シンタックスハイライトからエラーチェック，</p>
        <p>ライブラリが入ってないと警告してくれたり，とにかく便利。</p>
        <br>
        <p>2019/05/23時点最新版のPython3.7.3とVS Code1.34.0 zip版を使用する。</p>
        <br>
        <p>以下テストコード。これが動いたら今日から君もPythonist。</p>
        <p>"好きなファイル名.py"にして保存，F5で実行。</p>
        <br>
<p>calc.py</p>
<pre class="prettyprint linenums lang=python">
print("Hello World!!")
print(1 + 1) # 四則演算
print(2 - 1)
print(2 * 3)
print(4 / 3)
print(8 % 3)

import numpy # import: "このライブラリを使うよ"の宣言

arrFoo = numpy.asarray([1, 2, 3])
print(arrFoo)

import numpy as np # as: "この略で呼べるよ"の宣言

arrFoo = numpy.asarray([4, 5, 6])
arrBar = np.asarray([7, 8, 9])

print(arrFoo)
print(arrFoo[0])
print(arrFoo[1])
print(arrBar)
</pre>
<p>初回はnumpyがないよって怒られるはず。</p>
<p>Ctrl + @ でコンソールに移動。</p>
<pre class="prettyprint linenums">pip install "インストールしたいライブラリ名"</pre>
<p>でライブラリ追加。</p>
<p>pipが古いとか言われたら，指示に従ってインストール。</p>
      </section>
      <section>
        <h2 id="imagine">実現したいこと</h2>
        <p>A特性補正済みのwaveファイルから1秒毎の\(L_{eq}\)が知りたい。</p>
        <h3>分解する</h3>
        <table>
          <tr>
            <td>( In )</td>
            <td>: waveファイルを読み込む</td>
          </tr>
          <tr>
            <td>( Fn )</td>
            <td>: \(L_{eq}\)を計算する</td>
          </tr>
          <tr>
            <td>( Out )</td>
            <td>: CSVに出力する</td>
          </tr>
        </table>
        <h2>( In ) waveファイル</h2>
        <ul>
          <li>
            <details>
              <summary>構造理解</summary>
              <p>音を記録するには？</p>
              <p>A-D Convert アナログ-デジタル変換</p>
              <p>PCM Palse Code Modulation パルス符号変調</p>
              <p>2つのパラメータ</p>
              <ul>
                <li>sampling rate <b>サンプリング周波数</b>[Hz]
                  <p>1秒間に何回書き込むか。</p>
                </li>
                <li>quantization bit rate <b>量子化ビット数</b> (encoding bit rate 符号化ビット数)
                  <p>どのくらいの度数に分けるか？</p>
                </li>
              </ul>
            </details>
          </li>
          <li>
            <details>
              <summary>取り込み方法</summary>
              <p>Python nativeでいけるか，外部ライブラリはどれが使いやすそうか。</p>
              <p>標準ライブラリの<a href="https://docs.python.org/ja/3/library/wave.html">wave</a>は拡張性がなさそう。</p>
              <p>モノラル/ステレオ以上の対応は書いてない．4chとかのアンビソニックス音源は読めない？</p>
              <p>読み出しても格納が面倒そう．24bit96kHzとかややこしげ。</p>
              <p>ライブラリは<a href="https://pysoundfile.readthedocs.io/en/0.9.0/">PySoundFile</a>が良さげ。</p>
              <p>簡単，これに尽きる。</p>
            </details>
          </li>
        </ul>
<p>PySoundFileの使い方と，matplotlibでグラフ表示</p>
<p>plotWave.py</p>
<pre class="prettyprint linenums lang=python">
import numpy as np
import matplotlib.pyplot as plt
import soundfile as sf

# 各自書き換える
path = 'D:/documents/labo/pythonLeq/16bit1kHzMono.wav'

info = sf.SoundFile(path) # ファイル情報の確認
print('samplerate: ', info.samplerate)
print('channels: ', info.channels)
print('subtype: ', info.subtype)
print('format: ', info.format)

# データの読み込み
data, samplerate = sf.read(path) # data: 振幅(-1:1), samplerate: サンプリング周波数[Hz]
print(samplerate)
time = np.arange(0, len(data)) / samplerate # time: ファイルの長さ[s]
print('time: ', time)
print(time[-1]) # array[-1]: 最後の要素
fractionTime = len(data) % samplerate # 1秒未満の長さ
print('fractionTime: ', fractionTime)

plt.plot(time, data, label='wave')
plt.xlim(0, 0.003) # 表示する範囲
plt.ylim(-1, 1)
plt.xlabel('time(s)') # 軸ラベル
plt.ylabel('amplitude')

plt.show()
plt.close()
</pre>
        <h3>SPL sound plessure level, 音圧レベル[dB]を計算する</h3>
        \[
        \begin{eqnarray}
        L &=& 10\log\frac{{p_1}^2}{{p_0}^2} \\
        &=& 10\log\left(\frac{p_1}{p_0}\right)^2 \\
        &=& 20\log\frac{p_1}{p_0}
        \end{eqnarray}
        \]
        <p class="tooltip">\(p_0\)は基準音圧[Pa]， (20 µPaのとき，
          <span class="tooltiptext"
            data-tooltip="図書館で40dBとか，ジェット機が130dBとかのそれ">dB SPL
          </span>という。)
        </p>
        <p>\(p_1\)は瞬時値[Pa]，</p>
        <p>\(\log\) は \(\log_{10}\) : 常用対数を表す。</p>
        <p>「ただし\(0\lt p_0\)，\(0\lt p_1\)」あるいは絶対値をとる。</p>
        <details>
          <summary>column 式の意味</summary>
          \([dB]=10[B]\)だから10倍してる。
          <p>二乗がついてるのは分散と同じ考え方。</p>
          <p>\(\sin\)よろしく-1～1の範囲をとる。</p>
          <a href="http://our-house.jp/dbtalk/index.htm">誰も書かなかったデシベルのお話し</a>
          <p>いい読み物。</p>
        </details>
        <br>
        <p>calcSPL.py</p>
<pre class="prettyprint linenums lang=python">
import math

p0 = 20 * 10 ** -6
p1 = 20 * 10 ** -6 * 50000

print( 10 * math.log10(p1 ** 2 / p0 ** 2) ) # 数式と同じ意味
print( 10 * math.log10( (p1 / p0) ** 2 ) )
print( 20 * math.log10(p1 / p0) )

def calc(p0, p1): # 繰り返し使えるように関数宣言 define
  print(20 * math.log10(p1 / p0), 'dB')

print('twice')
calc(p0, 20 * 10 ** -6 * 2) # 2倍は？

print('10 times')
calc(p0, 20 * 10 ** -6 * 10) # 10倍は？

for i in range(1, 11): # 1から10倍
  print(i, 'time(s)')
  calc(p0, 20 * 10 ** -6 * i)
</pre>
<details>
  <summary>dBの感覚</summary>
  <p>feeling.py</p>
<pre class="prettyprint linenums lang=python">
p0 = 20 * 10 ** -6 # = 0.00002 = 20 * 10 ^ -6

print('decimal point')
calc(p0, 20)
calc(p0, 2)
calc(p0, .2)
calc(p0, .02)
calc(p0, .002)
calc(p0, .0002)
print('bug?')
calc(p0, .00002)

print('use "for statement"')

for i in range(7):
  calc(p0, 20 * 10 ** -i)

print('test:', 20 * 10 ** -5)
print('test:', 20 * 10 ** -6) # != .00002

p0 = .00002
calc(p0, .00002)
</pre>
  <p>信用できないPython native</p>
  <p>明示的な型宣言がないと，こういう弊害がある。</p>
  <p>挙動をみると8bitの型が暗黙で動いてるっぽい。</p>
  <p>あふれたからもっと大きい型にいれて，そのときにはもう桁落ちしてる。</p>
  <p>きっとどこかに書いてあるんだろうけど，読むのめんどくさい。</p>
  <p><a href="https://docs.python.org/ja/3/reference/index.html">リファレンス</a>は困ってから読むもの。</p>
</details>
<br>
<p>今回の問題は"16bitが何dBか"ということ。</p>
<p>グラフを交えて実際に計算してみる。</p>
<p>graph.py</p>
<pre class="prettyprint linenums lang=python">
import math
import matplotlib.pyplot as plt

quantity = 2 ** 16
print((20 * math.log10(quantity / 1)))

x = []
y = []
for i in range(1, quantity):
  x.append(i)
  y.append(20 * math.log10(i / 1))
plt.plot(x, y)
# plt.xscale('log')
plt.grid(which='major', color='black', linestyle='-')
plt.xlabel('quantization bit rate')
plt.ylabel('SPL(dB)')
plt.show()
plt.close()
</pre>
<p>16bitが96dBとすると，これを超える音を録音できなくなる。</p>
<p>なので，\(p_0\)を"通常 20 μPa"ではなく可変にして，dB SPLに合わせる。</p>
<p class="tooltip">このとき，
  <span class="tooltiptext"
    data-tooltip="1kHzの正弦波，94dB SPL">Calibration Signal 校正信号
  </span>から\(p_0\)を求める。
</p>
<p><br>校正信号を基準にdB SPLを計算する。</p>
<p class="tooltip">dB入力してもらって
  <span class="tooltiptext"
    data-tooltip="Root Mean Square 二乗平均平方根。後述。">\(RMS\)
  </span>から，</p>
<p>\(p_0=EU\): Engineering Unitとする。</p>
\[L_{cal}=20\log_{10}\frac{p_{cal}}{EU}\]
\[L_{cal}/20=\log_{10}\frac{p_{cal}}{EU}\]
<details>
  <summary>底の変換</summary>
  \[3=\log_28\]
  \[8=2^3\]
</details>
\[\frac{p_{cal}}{EU}=10^{{L_{cal}}/20}\]
\[EU=p_{cal}/10^\left({{L_{cal}}/20}\right)\]
\[L_{in}=20\log\frac{p_{in}}{EU}\]

<p>leqSimu.py</p>
<pre class="prettyprint linenums lang=python">
import math

pCal = 0.5 # 校正信号のRMS値(計算結果)
lCal = 94 # 想定する校正信号の強度
eu = pCal / 10 ** (lCal / 20)
print(eu)
wavRms = 0.1 # 入力信号のRMS値(計算結果)
leq = 20 * math.log10( wavRms / eu )
print(leq)
</pre>
<details>
  <summary>何bit必要？</summary>
  <a href="https://www.healthyhearing.jp/topics/Topic-article-05">音の単位「dB（デシベル）」ってなに？ Healthy Hearing</a>
  <p>180dB？</p>
  <a href="https://www8.cao.go.jp/space/comittee/27-kiban/kiban-dai43/pdf/siryou4-2.pdf">第４３回宇宙産業・科学技術基盤部会</a>
  <p>ロケットでもせいぜい150dBらしいけど，</p>
  <a href="https://www.ipros.jp/monosiri/science/15">オトナの中学理科講座【物理】人類の観測史上最大の『音』は？ IPROS製造業</a>
  <p>雑学。</p>
  <a href="https://gigazine.net/news/20141002-loud-sound/">地球を3周した「世界で最も大きな音」とは？ Gigazine</a>
  <p>194dBが上限みたい。</p>
  <br>
  <p>dB SPLから逆算してみる。</p>
  <p>\(X=194dB\)として</p>
  \[L=10\log_{10}X^2\]
  \[L=20\log_{10}X\]
  \[\frac{L}{20}=\log_{10}X\]
  \[X=10^\frac{L}{20}\]
  <p>\(X\)が2の何乗かがわかればいいから，</p>
  \[\log_2X=\log_210^\frac{L}{20}\]
<pre class="prettyprint linenums lang=python">
import math
print(math.log2(10 ** (194 / 20))) # 音の限界
</pre>
</details>
        <h2>( Fn ) \(L_{eq}\)</h2>
        <p>音圧レベルの時間当たりの平均値。</p>
        <p>わかるひとには，交流の利得の音バージョンっていえばわかる。</p>
        <ul>
          <li>計算方法
            \[L_{eq}=10\log\left[\frac{1}{t_1-t_0}
            \int_{t_0}^{t_1}\frac{{p_1}^2}{{p_0}^2}dt\right]\]
            <table>
              <tr>
                <td>\(p_0\)</td>
                <td>: 基準音圧レベル</td>
              </tr>
              <tr>
                <td>\(p_1\)</td>
                <td>: 収集した音圧</td>
              </tr>
              <tr>
                <td>\(t_0\)</td>
                <td>: 測定の開始時間</td>
              </tr>
              <tr>
                <td>\(t_1\)</td>
                <td>: 測定の終了時間</td>
              </tr>
            </table>
            <p>参考</p>
            <a href="https://knowledge.ni.com/KnowledgeArticleDetails?id=kA00Z0000019N3eSAE&l=ja-JP">Leq音圧レベルとは何ですか? NATIONAL INSTRUMENTS</a>
            <p><br>さっきの<b>音圧レベル</b>[dB]を，</p>
            \[
            L_{eq}=\class{mathbg}{10\log}\left[\frac{1}{t_1-t_0}
            \int_{t_0}^{t_1}\class{mathbg}{\frac{{p_1}^2}{{p_0}^2}}dt\right]
            \]
            <p>その時間分全部<b>足して</b>あげて，</p>
            \[
            L_{eq}=10\log\left[\frac{1}{t_1-t_0}
            \class{mathbg}{\int_{t_0}^{t_1}}\frac{{p_1}^2}{{p_0}^2}\class{mathbg}{dt}\right]
            \]
            <p>計測時間で<b>割る</b>。</p>
            \[
            L_{eq}=10\log\left[\class{mathbg}{\frac{1}{t_1-t_0}}
            \int_{t_0}^{t_1}\frac{{p_1}^2}{{p_0}^2}dt\right]
            \]
            <br>
            <p>\(RMS\): Root Mean Square value 二乗平均平方根</p>
            <p> = effective value 実効値</p>
            \[RMS[x]=\sqrt{\frac{1}{N}\sum_{i=1}^{N}(x_i)^2}\]
            <p>testRMS.py</p>
<pre class="prettyprint linenums lang=python">
import math

def rms(array):
  ans = 0
  for i in range(len(array)):
    ans += array[i] ** 2
  ans = 1 / len(array) * ans
  ans = math.sqrt(ans)
  return ans

x = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
print('calc:', rms(x))

y = [1, 2, 3, -4, 5, 6, 7, 8, -9, 10]
print('calc;', rms(y)) # マイナスがついてもok
</pre>
<p>ファイルを取り込んで計算してみる。</p>
<p>amplitude.py</p>
<pre class="prettyprint linenums lang=python">
import numpy as np
import soundfile as sf

path = 'D:/documents/labo/pythonLeq/16bit1kHzMono.wav'

data, samplerate = sf.read(path)
time = np.arange(0, len(data)) / samplerate

# RMSの計算
# sqrt: 平方根
# mean: 平均
# [a: b]: aからbまで，ここでは1秒間
rms1st = np.sqrt(np.mean(data[0: info.samplerate] ** 2))
rms2nd = np.sqrt(np.mean(data[info.samplerate: info.samplerate * 2] ** 2))
rms3rd = np.sqrt(np.mean(data[info.samplerate * 2: info.samplerate * 3] ** 2))
print(rms1st, rms2nd, rms3rd)
</pre>
<details>
  <summary>少し癖のあるnumpyの範囲指定</summary>
  <p>setRange.py</p>
<pre class="prettyprint linenums lang=python">
import math
import numpy as np

x = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
# print(x[0:(len(x) - 1)] ** 2) これはエラー

y = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
print(y, y ** 2)
z = np.array(x)
print(z, z[3:7] ** 2)
print(z, z[0:9] ** 2)
print(z, z[1:10] ** 2)
print(z, z[0:10] ** 2)
print(z, z[0:-1] ** 2) # 配列最後尾指定の常套句 -1 は使えない
print(z, z[0:len(z)] ** 2) # 0番目から len(z) - 1 番目まで
</pre>
</details>
<details>
  <summary>使えないnative mean</summary>
  <p>uselessMean.py</p>
<pre class="prettyprint linenums lang=python">
import math
from statistics import mean
import numpy as np

x = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
print(math.sqrt(mean(x[0:len(x)] ** 2)))
print(np.sqrt(np.mean(x[0:len(x)] ** 2)))

print(sum(x[0:len(x)] ** 2))
print(mean(x[0:len(x)] ** 2)) # 見事に小数点切り捨て
print(np.mean(x[0:len(x)] ** 2))
</pre>
</details>
            <br>
            <p>参考</p>
            <a href="https://www.onosokki.co.jp/HP-WK/c_support/faq/dr7000/dr_02_13_2013.htm">「収録した騒音計やマイクロホンからの音データをオースコープベーシックを使って音圧レベルとして表示する方法」 小野測器 - DR-7100 FAQ</a>
          </li>
        </ul>
        <h2>( Out ) CSV</h2>
        <details>
          <summary>tips</summary>
          <p>Character Separated Values</p>
          <p>文字列を文字で区切って列にして，改行で行にする。</p>
          <br>
          <p>い,ろ,は\n</p>
          <p>に,ほ,へ\n</p>
          <p>と,ち,り\n</p>
          <p>ぬ,る,を\n</p>
          <br>
          <p>\n は改行</p>
          <p>ルールのあるテキストファイル，文字だけのExcelって感じ。</p>
          <p>","を使うからcomma-separated valuesとも呼ばれる。というか9割はこれ。</p>
          <p>一部 tab 区切りで.tsv とか space で区切ったりもするらしい。</p>
          <p>列数を揃えなきゃいけないわけじゃなかったり，","をどう表現するかだったりの</p>
          <p>細かい決まりはなくて，方言があるみたい。</p>
          <br>
          <p>.xml .json 等，行列でデータを表す形式はたくさんある。</p>
        </details><br>
        <p>行列形式のテキストファイル。</p>
        <p>今回の出力でお世話になる。</p>
        <p>outputCsv.py</p>
<pre class="prettyprint linenums lang=python">
import datetime
import math
import numpy as np
testArray = np.array([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
# csv出力
filename = 'leq_' + datetime.datetime.today().strftime("%Y%m%dT%H%M%S") + '.csv'
np.savetxt(filename, testArray, delimiter=',', fmt='%d')
</pre>
      </section>
      <section>
        <h2 class="anyway">とにかくやってみる</h2>
        <p>あとはIn - Fn - Outを組み立てるだけ。</p>
        <p>複数引数を取るために<a href="https://qiita.com/kzkadc/items/e4fc7bc9c003de1eb6d0">ArgumentParser</a>を使用。</p>
<br>
<p>leq.py</p>
<pre class="prettyprint linenums lang=python">
import argparse
import datetime
import math
import numpy as np
import soundfile as sf

# 引数の設定
parser = argparse.ArgumentParser(description='Process some integers.')
parser.add_argument('inputFile')
parser.add_argument('calibrationFile')
parser.add_argument('SPL', type=float)
args = parser.parse_args()

# ( In ) データの読み込み
data, samplerate = sf.read(args.inputFile)
calData, calSR = sf.read(args.calibrationFile)
time = np.array(np.arange(0, (len(data) / samplerate)), dtype='int32')
print('time: ', time[-1])

# ( Fn ) 計算
def rms(amp, sec):
  return np.sqrt(np.mean(amp[samplerate*sec:samplerate*(sec+1)]**2))
rmsCal = rms(calData, 1)
leq = [20*math.log10(rms(data, i)/(rmsCal/10**(args.SPL/20))) for i in range(time[-1])]

# ( Out ) csv出力
filename = 'leq_' + datetime.datetime.today().strftime("%Y%m%dT%H%M%S") + '.csv'
np.savetxt(filename, leq, delimiter=',', fmt='%d')
</pre>
      </section>
      <section>
        <h2 class="afterword">あとがき</h2>
        <p>TODO</p>
        <p>リンク名を統一</p>
        <p>数式と単位をLaTeX形式に統一</p>
        <p>jupyter notebookとかgoogle colaboratoryにコードを移す</p>
        <p>csvはヘッダーと秒数くらいつける</p>
      </section>
    </article>
  </main>
  <aside>
    <h2>目次</h2>
    <ul>
      <li><a href="#forword">まえがき</a></li>
      <li><a href="#preparation">準備</a></li>
      <li><a href="#imagine">実現したいこと</a></li>
      <li><a href="#anyway">とにかくやってみる</a></li>
      <li><a href="#afterword">あとがき</a></li>
    </ul>
  </aside>
  </div>
  <footer></footer>
</body>
</html>